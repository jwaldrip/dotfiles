{
  "name": "travis-ci",
  "version": "1.2.0",
  "description": "node library to access the Travis-CI API",
  "main": "lib/travis-ci",
  "bin": {
    "travis-ci": "./bin/travis-ci.js"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/pwmckenna/node-travis-ci.git"
  },
  "keywords": [
    "travis-ci",
    "travis",
    "travisci",
    "ci",
    "continuous",
    "integration",
    "api"
  ],
  "author": {
    "name": "Patrick Williams",
    "email": "pwmckenna@gmail.com"
  },
  "license": "BSD",
  "readmeFilename": "README.md",
  "homepage": "https://github.com/pwmckenna/node-travis-ci",
  "bugs": {
    "url": "https://github.com/pwmckenna/node-travis-ci/issues"
  },
  "dependencies": {
    "lodash": "~1.3.1",
    "request": "~2.22.0",
    "underscore.string": "~2.2.0rc",
    "github": "~0.1.10"
  },
  "devDependencies": {
    "grunt-env": "~0.4.0",
    "grunt-contrib-jshint": "~0.6.0",
    "grunt": "~0.4.1",
    "mocha": "~1.12.0",
    "grunt-mocha-test": "~0.5.0",
    "matchdep": "~0.1.2",
    "should": "~1.2.2",
    "grunt-cli": "~0.1.9",
    "q": "~1.0.0"
  },
  "readme": "node-travis-ci [![Build Status](https://travis-ci.org/pwmckenna/node-travis-ci.png?branch=master)](https://travis-ci.org/pwmckenna/node-travis-ci)\n==============\n\nnode library to access the [Travis-CI API](https://api.travis-ci.org/docs/)\n\n[![NPM](https://nodei.co/npm/travis-ci.png?downloads=true&stars=true)](https://npmjs.org/package/travis-ci)\n\n# Instantiation\n\n```js\nvar Travis = require('travis-ci');\nvar travis = new Travis({\n    version: '2.0.0'\n});\n\n// To access the Travis-CI Pro API\nvar travis = new Travis({\n    version: '2.0.0',\n    pro: true\n});\n```\n\n# API\n\n### Authentication\n\nMany functions, such as [`travis.accounts`](https://api.travis-ci.org/docs/#Accounts), require authenticating as a user. \nCurrently the only way to authenticate is to start with a github oauth token, request a travis access token, and authenticate with that.\n\n```js\ntravis.auth.github({\n    github_token: GITHUB_OAUTH_TOKEN\n}, function (err, res) {\n    // res => {\n    //     access_token: XXXXXXX\n    // }\n    travis.authenticate({\n        access_token: res.access_token\n    }, function (err) {\n         // we've authenticated!\n    });\n});\n```\n\nAs a convenience, `authenticate` also accepts github tokens, or github credentials (which are only sent to github) and performs the necessary requests to aquire a travis access token. For example:\n\n```js\ntravis.authenticate({\n    github_token: GITHUB_OAUTH_TOKEN\n}, function (err) {\n    // we've authenticated! \n});\n```\nor\n```js\ntravis.authenticate({\n    username: GITHUB_USERNAME,\n    password: GITHUB_PASSWORD\n}, function (err) {\n    //we've authenticated!\n});\n```\n\n> __Pro Tip:__ Authentication is simply a convenience function that ensures your token has the required permissions, then appends your `access_token` to all subsequent requests. You can alternatively pass `access_token` to any request where permission is required.\n\n### [Accounts](https://api.travis-ci.org/docs/#Accounts)\n\nAccounts calls require [authentication](#Authentication).\n\n```js\ntravis.accounts(function (err, res) {\n    // res => {\n    //     \"accounts\": [\n    //         {\n    //             \"id\": 5186,\n    //             \"name\": \"Patrick Williams\",\n    //             \"login\": \"pwmckenna\",\n    //             \"type\": \"user\",\n    //             \"repos_count\": 48\n    //         },\n    //         {\n    //             \"id\": ***,\n    //             \"name\": \"BitTorrent Torque Labs\",\n    //             \"login\": \"bittorrenttorque\",\n    //             \"type\": \"organization\",\n    //             \"repos_count\": ***\n    //         },\n    //         {\n    //             \"id\": ***,\n    //             \"name\": null,\n    //             \"login\": \"Studyokee\",\n    //             \"type\": \"organization\",\n    //             \"repos_count\": ***\n    //         },\n    //         {\n    //             \"id\": ***,\n    //             \"name\": \"BitTorrent Inc.\",\n    //             \"login\": \"bittorrent\",\n    //             \"type\": \"organization\",\n    //             \"repos_count\": ***\n    //         }\n    //     ]\n    // }\n});\n```\n\n### [Authorization](https://api.travis-ci.org/docs/#Authorization)\n\n```js\ntravis.auth.github({\n    github_token: GITHUB_OAUTH_TOKEN\n}, function (err, res) {\n    // res => {\n    //     access_token: ***\n    // }\n});\n```\n\nAdditional endpoints that have not be implemented yet:\n\n* [travis.auth.authorize](https://api.travis-ci.org/docs/#/auth/authorize)\n* [travis.auth.access_token](https://api.travis-ci.org/docs/#POST%20/auth/access_token)\n\nEndpoints that exist, but are intended for brower flows:\n\n* [travis.auth.handshake](https://api.travis-ci.org/docs/#/auth/handshake)\n* [travis.auth.post_message](https://api.travis-ci.org/docs/#/auth/post_message)\n* [travis.auth.post_message.iframe](https://api.travis-ci.org/docs/#/auth/post_message/iframe)\n\n### [Branches](https://api.travis-ci.org/docs/#Branches)\n\n```js\ntravis.branches(function (err, res) {\n    // res => {\n    //     branches: [],\n    //     commits: []\n    // }\n});\n```\n\n### [Broadcasts](https://api.travis-ci.org/docs/#Broadcasts)\n\n```js\ntravis.broadcasts(function (err, res) {\n    // res => {\n    //     broadcasts: []\n    // }\n});\n```\n\n### [Builds](https://api.travis-ci.org/docs/#Builds)\n\n```js\n// to get the info for a specific build, specify the build id\n// this is data used for pages such as:\n// https://travis-ci.org/pwmckenna/node-travis-ci/builds/10380000\ntravis.builds({\n    id: 10380000\n}, function (err, res) {\n    // res => {\n    //     \"build\": {\n    //         \"id\": 10380000,\n    //         \"repository_id\": 1095505,\n    //         \"commit_id\": 3053424,\n    //         \"number\": \"43\",\n    //         \"pull_request\": false,\n    //         \"pull_request_title\": null,\n    //         \"pull_request_number\": null,\n    //         \"config\": {\n    //             \"language\": \"node_js\",\n    //             \"node_js\": [\n    //                 \"0.10.1\"\n    //             ],\n    //             \"script\": [\n    //                 \"./node_modules/grunt-cli/bin/grunt test\"\n    //             ],\n    //             \".result\": \"configured\",\n    //             \"global_env\": [\n    //                 {\n    //                     \"secure\": \"SHezJGUSi1cc/V+AWBgmGe...\n    //                 },\n    //                 {\n    //                     \"secure\": \"opq2IxY6TquOtn4nCI75Y...\n    //                 },\n    //                 {\n    //                     \"secure\": \"f4rapdrgZJIeqUUBu3Bp/...\n    //                 }\n    //             ]\n    //         },\n    //         \"state\": \"canceled\",\n    //         \"started_at\": null,\n    //         \"finished_at\": \"2013-10-30T23:19:20Z\",\n    //         \"duration\": 0,\n    //         \"job_ids\": [\n    //             10380001\n    //         ]\n    //     },\n    //     \"commit\": {\n    //         \"id\": 3053424,\n    //         \"sha\": \"af594e5b0744e6fdd4af5c7470652286420db430\",\n    //         \"branch\": \"master\",\n    //         \"message\": \"1.0.1\",\n    //         \"committed_at\": \"2013-08-19T20:12:25Z\",\n    //         \"author_name\": \"Patrick Williams\",\n    //         \"author_email\": \"pwmckenna@gmail.com\",\n    //         \"committer_name\": \"Patrick Williams\",\n    //         \"committer_email\": \"pwmckenna@gmail.com\",\n    //         \"compare_url\": \"https://github.com/pwmckenna/node-travis-ci/...\n    //     },\n    //     \"jobs\": [\n    //         {\n    //             \"id\": 10380001,\n    //             \"repository_id\": 1095505,\n    //             \"build_id\": 10380000,\n    //             \"commit_id\": 3053424,\n    //             \"log_id\": 4540661,\n    //             \"state\": \"canceled\",\n    //             \"number\": \"43.1\",\n    //             \"config\": {\n    //                 \"language\": \"node_js\",\n    //                 \"node_js\": \"0.10.1\",\n    //                 \"script\": [\n    //                     \"./node_modules/grunt-cli/bin/grunt test\"\n    //                 ],\n    //                 \".result\": \"configured\",\n    //                 \"global_env\": \"GITHUB_OAUTH_TOKEN=[secure] ...\n    //             },\n    //             \"started_at\": null,\n    //             \"finished_at\": \"2013-10-30T23:19:19Z\",\n    //             \"queue\": \"builds.linux\",\n    //             \"allow_failure\": false,\n    //             \"tags\": \"\"\n    //         }\n    //     ]\n    // }\n});\n```\n```js\n// to cancel a build\ntravis.builds.cancel({\n    id: 10380000\n}, function (err) {\n});\n```\n\n### [Documentation](https://api.travis-ci.org/docs/#Documentation)\n\n```js\ntravis.documentation(function (err, res) {\n    // res => <html>\n    //     ...\n    // </html\n});\n```\n\n### [Endpoints](https://api.travis-ci.org/docs/#Endpoints)\n\n```js\ntravis.endpoints(function (err, res) {\n    // res => [\n    //     {\n    //         \"name\": \"Home\",\n    //         \"doc\": \"\",\n    //         \"prefix\": \"/\",\n    //         \"routes\": [\n    //             {\n    //                 \"uri\": \"/\",\n    //                 \"verb\": \"GET\",\n    //                 \"doc\": \"Landing point...\",\n    //                 \"scope\": \"public\"\n    //             },\n    //             {\n    //                 \"uri\": \"/redirect\",\n    //                 \"verb\": \"GET\",\n    //                 \"doc\": \"Simple endpoints that redirects somewhere else...\",\n    //                 \"scope\": \"public\"\n    //             },\n    //             {\n    //                 \"uri\": \"/config\",\n    //                 \"verb\": \"GET\",\n    //                 \"doc\": \"Provides you with system info:...\",\n    //                 \"scope\": \"public\"\n    //             }\n    //         ]\n    //     },\n    //     {\n    //         \"name\": \"Accounts\",\n    //         \"doc\": \"\",\n    //         \"prefix\": \"/accounts\",\n    //         \"routes\": [\n    //             {\n    //                 \"uri\": \"/accounts/\",\n    //                 \"verb\": \"GET\",\n    //                 \"doc\": \"\",\n    //                 \"scope\": \"private\"\n    //             }\n    //         ]\n    //     },\n    //     ...\n    // ]\n});\n```\n```js\ntravis.endpoints({\n    prefix: 'endpoints'\n}, function (err, res) {\n    // res => {\n    //     \"name\": \"Endpoints\",\n    //     \"doc\": \"Documents all available API endpoints...\",\n    //     \"prefix\": \"/endpoints\",\n    //     \"routes\": [\n    //         {\n    //             \"uri\": \"/endpoints/\",\n    //             \"verb\": \"GET\",\n    //             \"doc\": \"Lists all available API endpoints by URI prefix...\",\n    //             \"scope\": \"public\"\n    //         },\n    //         {\n    //             \"uri\": \"/endpoints/:prefix\",\n    //             \"verb\": \"GET\",\n    //             \"doc\": \"Infos about a specific controller....\",\n    //             \"scope\": \"public\"\n    //         }\n    //     ]\n    // }\n});\n```\n\n### [Hooks](https://api.travis-ci.org/docs/#Hooks)\n\nAll hook calls require [authentication](#Authentication).\n\n```js\ntravis.hooks(function (err, res) {\n    // res => [\n    //     {\n    //         id: 1095505,\n    //         name: 'node-travis-ci',\n    //         owner_name: 'pwmckenna',\n    //         description: 'node library to access the Travis-CI API',\n    //         active: true,\n    //         private: false,\n    //         admin: true\n    //     }\n    //     ...\n    // ]\n});\n```\n```js\ntravis.hooks({\n    id: 1095505,\n    hook: {\n        active: false\n    }\n}, function (err, res) {\n});\n```\n\n### [Jobs](https://api.travis-ci.org/docs/#Jobs)\n\n```js\ntravis.jobs({\n    id: JOB_ID\n}, function (err, res) {\n    // res => {\n    //     \"job\": {\n    //         \"id\": 9624444,\n    //         \"repository_id\": 1095505,\n    //         \"repository_slug\": \"pwmckenna/node-travis-ci\",\n    //         \"build_id\": 9624443,\n    //         \"commit_id\": 2836527,\n    //         \"log_id\": 3986694,\n    //         \"state\": \"failed\",\n    //         ...\n    //     },\n    //     \"commit\": {\n    //         \"id\": 2836527,\n    //         \"sha\": \"431d6e5d899f165e4786ce82c4672975cddca670\",\n    //         \"branch\": \"master\",\n    //         \"message\": \"fixing builds test\",\n    //         ...\n    //     }\n    // }\n});\n```\n```js\ntravis.jobs.log({\n    job_id: JOB_ID\n}, function (err, res) {\n    \n});\n```\n\n### [Logs](https://api.travis-ci.org/docs/#Logs)\n\n```js\ntravis.logs({\n    id: LOG_ID\n}, function (err, res) {\n    // res => {\n    //     log: {\n    //         id: 3986694,\n    //         job_id: 9624444,\n    //         type: 'Log',\n    //         body: 'Using worker: worker-linux-6-2.bb.travis-ci.org:travis-linux-15\\n\\n$ export GITHUB_OAUTH_TOKEN=[secure]...\n    //     }\n    // }\n});\n```\n\n### [Repos](https://api.travis-ci.org/docs/#Repos)\n\n```js\ntravis.repos({\n    owner_name: 'pwmckenna'\n//  member: 'pwmckenna\n}, function (err, res) {\n    // res => {\n    //     \"repos\": [\n    //         {\n    //         \"id\": 1095505,\n    //         \"slug\": \"pwmckenna/node-travis-ci\",\n    //         \"description\": \"node library to access the Travis-CI API\",\n    //         \"last_build_id\": 6347735,\n    //         \"last_build_number\": \"468\",\n    //         \"last_build_state\": \"started\",\n    //         \"last_build_duration\": null,\n    //         \"last_build_language\": null,\n    //         \"last_build_started_at\": \"2013-04-15T09:45:29Z\",\n    //         \"last_build_finished_at\": null\n    //         }\n    //     ]\n    // }\n});\n```\n```js\ntravis.repos({\n    owner_name: 'pwmckenna',\n    name: 'node-travis-ci'\n}, function (err, res) {\n    // res => {\n    //     \"repo\": {\n    //         \"id\": 1095505,\n    //         \"slug\": \"pwmckenna/node-travis-ci\",\n    //         \"description\": \"node library to access the Travis-CI API\",\n    //         ...\n    //     }\n    // }\n});\n```\n```js\ntravis.repos.key({\n    id: \n}, function (err, res) {\n    // res => {\n    //   key: '-----BEGIN RSA PUBLIC KEY-----\\nMIGfMA0GCSqGSIb...'    \n    // }\n});\n```\n```js\ntravis.repos.builds({\n    owner_name: 'pwmckenna',\n    name: 'node-travis-ci'\n}, function (err, res) {\n    // res => {\n    //     builds: [],\n    //     commits: []\n    // }\n});\n```\n\n### [Requests](https://api.travis-ci.org/docs/#Requests)\n\nRequests calls require [authentication](#Authentication).\n\n```js\ntravis.requests({\n    build_id: BUILD_ID    \n}, function (err, res) {\n    // res => {\n    //     \"result\": true,\n    //     \"flash\": [\n    //         {\n    //             \"notice\": \"The build was successfully restarted.\"\n    //         }\n    //     ]\n    // }\n});\n```\n\n### [Stats](https://api.travis-ci.org/docs/#Stats)\n\n```js\ntravis.stats.repos(function (err, res) {\n    // res => {\n    //     stats: {\n    //         params:\n    //         current_user:\n    //     }\n    // }\n});\n```\n```js\ntravis.stats.tests(function (err, res) {\n    // res => {\n    //     stats: {\n    //         params:\n    //         current_user:\n    //     }\n    // }\n});\n```\n\n### [Users](https://api.travis-ci.org/docs/#ss)\n\nAll user calls require [authentication](#Authentication).\n\n```js\ntravis.users(function (err, res) {\n    // res => {\n    //     \"user\": {\n    //         \"id\": 5186,\n    //         \"name\": \"Patrick Williams\",\n    //         \"login\": \"pwmckenna\",\n    //         \"email\": \"patrick@bittorrent.com\",\n    //         \"gravatar_id\": \"894f552b86b959df97353a7296baee5c\",\n    //         \"locale\": \"en\",\n    //         \"is_syncing\": false,\n    //         \"synced_at\": \"2013-10-30T22:47:49Z\",\n    //         \"correct_scopes\": true,\n    //         \"created_at\": \"2012-02-07T22:17:38Z\"\n    //     }\n    // }\n});\n```\n```js\ntravis.users.permissions(function (err, res) {\n    // res => {\n    //     \"permissions\": [\n    //         1446577,\n    //         107140,\n    //         1402719,\n    //         1392622,\n    //         ...\n    //     ]\n    // }\n\n});\n```\n```js\ntravis.users.sync(function (err, res) {\n    // res => {\n    //     \"result\": true\n    // }\n});\n```\n\n### [Workers](https://api.travis-ci.org/docs/#Workers)\n\n```js\ntravis.workers(function (err, res) {\n    // res => {\n    //     workers: []\n    // }\n});\n```\n\n# CLI\n\nTo install as a command line utility, just install globally via npm.\n\n```bash\nnpm install -g travis-ci\n```\n\nThe entire library is available via command line interface. While it uses subcommands, the api is the same as above.\n\n```bash\ntravis-ci authenticate --username=pwmckenna --password=superSecret\n=>  {\n        \"access_token\": \"F7DlolJkD15isf4KEDuh_A\"\n    }\n# or\ntravis-ci auth github --github_token=ef7c329fb63479eb5be9719bb8b23162072bb20d\n=>  {\n        \"access_token\": \"F7DlolJkD15isf4KEDuh_A\"\n    }\n```\n\n> __Pro Tip:__ Passing OAuth tokens or github credentials via the command line will leave them in your shell history for all to see. Please shell responsibly.\n\n\nUse the `access_token` above in all subsequent commands that require authentication, such as requesting the builds for this project:\n\n```bash\ntravis-ci repos builds --owner_name=pwmckenna --name=node-travis-ci --access_token=F7DlolJkD15isf4KEDuh_A\n=>  {\n        \"builds\": [\n            {\n                \"id\": 9630304,\n                \"repository_id\": 1095505,\n                \"pull_request\": false,\n                \"state\": \"passed\",\n                ...\n            },\n            ...\n        ]\n    }\n```\n",
  "_id": "travis-ci@1.2.0",
  "dist": {
    "shasum": "727240a23986239e3d30e474a92ee3a42c47e942"
  },
  "_from": "travis-ci@1.2.0",
  "_resolved": "https://registry.npmjs.org/travis-ci/-/travis-ci-1.2.0.tgz"
}
